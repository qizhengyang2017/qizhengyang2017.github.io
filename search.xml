<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[snakemake实践]]></title>
    <url>%2F2019%2F02%2F20%2Fsnakemake%2F</url>
    <content type="text"><![CDATA[snakemake是一个用来编写任务流程的工具，用python写的，因此其执行的流程脚本也比较通俗易懂，易于理解，可以看做用户友好版的make。 其实流程控制是复杂任务（在生信领域很常见）必需的关注点。只是snakemake对于代码功力不够的人来说，在写好代码与重复流程的花销的trade off上，还不如一遍遍重复流程。。但是真的是一个写好了就很好用的东西。 12# installingconda install -c bioconda snakemake 简单的例子12345678910111213cd $HOME# Create a folder where we will run our commands:mkdir snakemake-examplecd snakemake-example# Make a fake genome:touch genome.fa# Make some fake data:mkdir fastqtouch fastq/Sample1.R1.fastq.gz fastq/Sample1.R2.fastq.gztouch fastq/Sample2.R1.fastq.gz fastq/Sample2.R2.fastq.gz snakemake 脚本 123456789101112131415SAMPLES = ['Sample1', 'Sample2']rule all: input: expand('&#123;sample&#125;.txt', sample=SAMPLES)rule quantify_genes: input: genome = 'genome.fa', r1 = 'fastq/&#123;sample&#125;.R1.fastq.gz', r2 = 'fastq/&#123;sample&#125;.R2.fastq.gz' output: '&#123;sample&#125;.txt' shell: 'echo &#123;input.genome&#125; &#123;input.r1&#125; &#123;input.r2&#125; &gt; &#123;output&#125;' 运行 12# 学院集群上运行snakemake --snakefile Snakefile 1snakemake --forceall --dag | dot -Tpng &gt; dag1.png snakemake规则 Snakemake基于规则执行命令，规则一般由input, output,shell三部分组成。除了rule all，其余必须有output Snakemake可以自动确定不同规则的输入输出的依赖关系，根据时间戳来判断文件是否需要重新生成 Snakemake以{sample}.fa形式进行文件名通配，用{wildcards.sample}获取sample的实际文件名 Snakemake用expand()生成多个文件名，本质是Python的列表推导式 Snakemake可以在规则外直接写Python代码，在规则内的run里也可以写Python代码。 Snakefile的第一个规则通常是rule all，根据all里的文件决定执行哪些rule。如上面的例子，注释掉all里的input则不执行第二条rule，（推断未尝试：rule all里定义最终的输出文件，程序也能执行，那么rule里的输出文件在什么时候会被删除，是在所有rule运行完之后，还是在判断出该输出文件不会被用到的时候？） 在output中的结果文件可以是未存在目录中的文件,这时会自动创建不存在的目录（不需要事先建文件夹，这个功能实在是方便） snakemake命令 wildcards: 用来获取通配符匹配到的部分，例如对于通配符”{dataset}/file.{group}.txt”匹配到文件101/file.A.txt，则{wildcards.dataset}就是101，{wildcards.group}就是A。 temp: 通过temp方法可以在所有rule运行完后删除指定的中间文件，eg.output: temp(“f1.bam”)。 protected: 用来指定某些中间文件是需要保留的，eg.output: protected(“f1.bam”)。 snakemake执行一般讲所有的参数配置写入Snakefile后直接在Snakefile所在路径执行snakemake命令即可开始执行流程任务，如果只有一个snakefile的话，连文件都不用写。一些常用的参数： 123456789101112131415161718--snakefile, -s 指定Snakefile，否则是当前目录下的Snakefile--dryrun, -n 不真正执行，一般用来查看Snakefile是否有错--printshellcmds, -p 输出要执行的shell命令--reason, -r 输出每条rule执行的原因,默认FALSE--cores, --jobs, -j 指定运行的核数，若不指定，则使用最大的核数--force, -f 重新运行第一条rule或指定的rule--forceall, -F 重新运行所有的rule，不管是否已经有输出结果--forcerun, -R 重新执行Snakefile，当更新了rule时候使用此命令#一些可视化命令$ snakemake --dag | dot -Tpdf &gt; dag.pdf#集群投递snakemake --cluster "qsub -V -cwd -q 节点队列" -j 10# --cluster: 集群运行指令# qusb -V -cwd -q， 表示输出当前环境变量(-V),在当前目录下运行(-cwd), 投递到指定的队列(-q), 如果不指定则使用任何可用队列# --local-cores N: 在每个集群中最多并行N核# --cluster-config/-u FILE: 集群配置文件 自己写的snakemake file123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186# 2019-2-19 10:28:52 part# GATK snakemake# qizhengyangfrom os.path import joinGENOME = 'genome/HWB.chromosome.fa'GTF = 'genes/HWB.gene.models.gtf'(SAMPLES,) = glob_wildcards('pairedDIR/&#123;sample&#125;_1P.fq.gz')PATTERN_R1 = join('pairedDIR', '&#123;sample&#125;_1P.fq.gz')PATTERN_R2 = join('pairedDIR', '&#123;sample&#125;_2P.fq.gz')rule all: input: 'star_index_2pass/', expand('star_1pass/&#123;sample&#125;SJ.out.tab', sample=SAMPLES), 'star_index_2pass/', expand('star_2pass/&#123;sample&#125;Aligned.out.sam', sample=SAMPLES), expand('star_2pass/&#123;sample&#125;_rg_added_sorted.bam', sample=SAMPLES), expand('star_2pass/&#123;sample&#125;_dedup.bam', sample=SAMPLES), expand('star_2pass/&#123;sample&#125;_dedup_split.bam', sample=SAMPLES), expand('star_2pass/&#123;sample&#125;.vcf', sample=SAMPLES), expand('star_2pass/&#123;sample&#125;_filtered.vcf', sample=SAMPLES)rule star_index: input: genome = GENOME, gtf = GTF output: star_index = 'star_index/' log: 'star_index.log' threads: 8 run: # star 1-pass index, OK shell('STAR --runThreadN &#123;threads&#125; --runMode genomeGenerate' ' --genomeDir &#123;output.star_index&#125;' ' --genomeFastaFiles &#123;input.genome&#125;' ' --sjdbGTFfile &#123;input.gtf&#125;' ' 2&gt; &#123;log&#125;')rule star_1pass_align: input: index = 'star_index/', r1 = PATTERN_R1, r2 = PATTERN_R2 output: index = 'star_1pass/&#123;sample&#125;SJ.out.tab' threads: 8 params: prefix = './star_1pass/&#123;sample&#125;' # 在使用params之前是报错的，NameError,The name 'sample' is unknown in this context run: # star 1-pass align, OK shell('STAR --runThreadN &#123;threads&#125; --genomeDir &#123;input.index&#125;' ' --readFilesIn &#123;input.r1&#125; &#123;input.r2&#125;' ' --readFilesCommand zcat' ' --outFileNamePrefix &#123;params.prefix&#125;')rule star_2pass_index: input: genome = GENOME, # 这里必需加expand，不然会报错：Wildcards in input files cannot be determined from output files: # 'sample'。 # 很奇怪，确实是需要所有样本的剪接位点信息，我之前没有注意到。。还好报错，不然就尴尬了 # 然后用--sjdbFileChrStartEnd参数将所有样品的SJ.out.tab文件作为输入的annotated junction进行第二次建index # http://www.bioinfo-scrounger.com/archives/288 # 这里不能加三个引号（"""或'''注释） splice_site = expand('star_1pass/&#123;sample&#125;SJ.out.tab', sample=SAMPLES) output: index = 'star_index_2pass/' threads: 8 run: # star 2-pass index, OK shell('STAR --runThreadN &#123;threads&#125; --runMode genomeGenerate' ' --genomeDir &#123;output.index&#125;' ' --genomeFastaFiles &#123;input.genome&#125;' ' --sjdbFileChrStartEnd &#123;input.splice_site&#125;')rule star_2pass_align: input: index = 'star_index_2pass/', r1 = PATTERN_R1, r2 = PATTERN_R2 output: sam = 'star_2pass/&#123;sample&#125;Aligned.out.sam' threads: 8 params: prefix = 'star_2pass/&#123;sample&#125;' run: # star 2-pass align shell('STAR --runThreadN &#123;threads&#125; --genomeDir &#123;input.index&#125;' ' --readFilesIn &#123;input.r1&#125; &#123;input.r2&#125;' ' --readFilesCommand zcat' ' --outFileNamePrefix &#123;params.prefix&#125;')rule picard: input: sam = 'star_2pass/&#123;sample&#125;Aligned.out.sam' output: bam = 'star_2pass/&#123;sample&#125;_rg_added_sorted.bam' run: # RGID和RGSM的sample必须是&#123;wildcards.sample&#125;，不然 # The name 'sample' is unknown in this context. Please make sure that you defined that variable. # Also note that braces not used for variable access have to be escaped by repeating them, i.e. &#123;&#123;print $1&#125;&#125; shell('picard AddOrReplaceReadGroups' ' I=&#123;input.sam&#125;' ' O=&#123;output.bam&#125;' ' SO=coordinate' ' RGID=&#123;wildcards.sample&#125;' ' RGLB=rna' ' RGPL=illumina' ' RGPU=hiseq' ' RGSM=&#123;wildcards.sample&#125;')rule picard_markduplicates: input: bam = 'star_2pass/&#123;sample&#125;_rg_added_sorted.bam' output: dedup_bam = 'star_2pass/&#123;sample&#125;_dedup.bam' params: dedup_metrices = 'star_2pass/&#123;sample&#125;_dedup.metrics' run: shell('picard MarkDuplicates' ' I=&#123;input.bam&#125;' ' O=&#123;output.dedup_bam&#125;' ' CREATE_INDEX=true' ' VALIDATION_STRINGENCY=SILENT' ' M=&#123;params.dedup_metrices&#125;')rule gatk_split: input: dedup_bam = 'star_2pass/&#123;sample&#125;_dedup.bam', genome = GENOME output: split_bam = 'star_2pass/&#123;sample&#125;_dedup_split.bam' run: shell('java -jar $GATK -T SplitNCigarReads' ' -R &#123;input.genome&#125;' ' -I &#123;input.dedup_bam&#125;' ' -o &#123;output.split_bam&#125;' ' -rf ReassignOneMappingQuality' ' -RMQF 255' ' -RMQT 60' ' -U ALLOW_N_CIGAR_READS')rule gatk: input: bam = 'star_2pass/&#123;sample&#125;_dedup_split.bam', genome = GENOME output: vcf = 'star_2pass/&#123;sample&#125;.vcf' run: shell('java -jar $GATK -T HaplotypeCaller' ' -R &#123;input.genome&#125;' ' -I &#123;input.bam&#125;' ' -dontUseSoftClippedBases' ' -stand_call_conf 20.0' ' -o &#123;output.vcf&#125;')rule gatk_filter: input: genome = GENOME, vcf = 'star_2pass/&#123;sample&#125;.vcf' output: 'star_2pass/&#123;sample&#125;_filtered.vcf' run: shell('java -jar $GATK' ' -T VariantFiltration' ' -R &#123;input.genome&#125;' ' -V &#123;input.vcf&#125;' ' -window 35' ' -cluster 3' ' -filterName FS -filter "FS &gt; 30.0"' ' -filterName QD -filter "QD &lt; 2.0"' ' -o &#123;output&#125;') 集群上运行1234567891011121314151617181920212223# 查看节点状态pestat# 测试 dry runsnakemake -n# 检测某条rulesnakemake -n -r star_index# 可视化# snakemake --dag | dot -Tpdf &gt; dag.pdfsnakemake --forceall --dag | dot -Tpdf &gt; dag.pdf## 投递任务 -cwd不能用 [qsub: illegal -c value]# snakemake --cluster "qsub -V -cwd -q high" -j 20snakemake --cluster "qsub -V -q high" -j 20# 报错# Complete log: /home02/qizhengyang/qizhengyang/gatk_rna/.snakemake/log/2019-02-20T152054.823542.snakemake.log# less snakejob.star_index.254.sh.e980069 查看错误信息# Output directories must be flagged with directory()，# 集群上做的时候输出目录要用 directory() ，在实验室服务器上没有遇上这种情况snakemake -s Snakefile1 --cluster "qsub -V -q high" -j 20# -j 必须指定，否则Error: you need to specify the maximum number of jobs to be queued or executed at the same time with --jobs.# Here, -j denotes the number of jobs submitted being submitted to the cluster at the same time# 没有重新运行star_index这个任务 第一次 第二次 snakemake会自动判断哪些任务可以并行处理： 参考资料 snakemake docs RNAseq variant calling pipeline Build bioinformatics pipelines with Snakemake kallisto-snakefiles Writing a RNA-Seq workflow with snakemake snakemake初步 RNA-seq 检测变异之 GATK 最佳实践流程 snakemake-example 我最喜欢的流程管理工具]]></content>
      <tags>
        <tag>生物信息</tag>
        <tag>snakemake</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[the machine stops]]></title>
    <url>%2F2019%2F02%2F11%2F%E6%9C%BA%E5%99%A8%E5%81%9C%E6%AD%A2%2F</url>
    <content type="text"><![CDATA[从工业革命开始，城市化，信息化，智能化，人们的生活发生了不可逆转的剧变。有些东西消失后就不会再出现，比如蒸汽机车，有些东西即使外界再变也不会消失，比如文明。 they have given up, to a great extent, the amenities and achievements of civilization: solitude and leisure, the sanction to be oneself, truly absorbed, whether in contemplating a work of art, a scientific theory, a sunset, or the face of one’s beloved.]]></content>
  </entry>
  <entry>
    <title><![CDATA[甲基化数据分析]]></title>
    <url>%2F2019%2F01%2F30%2F%E7%94%B2%E5%9F%BA%E5%8C%96%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[DNA甲基化数据分析流程 用Trimmomatic去除低质量序列（q&lt;20），接头。 用BSMAP比对，允许0.8的错配率。 用methratio.py提取甲基化比例，选项-r去除PCR重复。 获得DMR 为了得到可靠的DMR区域，合并两个生物学重复，仅考虑所有文库中深度至少为4的胞嘧啶。 使用200bp窗口（50bp步长）识别DMR。 对每个窗口内的甲基化和未甲基化胞嘧啶进行Fisher精确检验。使用Benjamini-Hochberg对p值进行调整，估计错误发生率（FDR）。 FDR&lt;0.01，甲基化水平变化大于1.5倍且至少含有5个差异甲基化胞嘧啶（DMCs：Fisher精确检验中p&lt;0.01）的窗口用于进一步分析，窗口在100bp内合并为更大的区域。 RNA-seq 数据分析 Trimmomatic去除低质量序列和接头 用STAR进行比对，–sjdbGTFfile 用于提供基因组注释文件 htseq-count计算每个基因map上的片段数 DESeq2计算差异表达基因 DMR-associated基因分析 DMR相关基因定义为2kb启动子区域内具有DMR的基因 仅用DMR-associated genes进行基因聚类 差异基因定义，FPKM &gt;= 1, FDR &lt;= 0.01, fc &gt;= 1.5 GO注释 使用拟南芥（TAIR10）、番茄（ITAG3）、草莓（PhytozomeV12）的蛋白序列和GO注释文件 blast 用GOATOOLs进行GO富集 小RNA分析 使用BWA比对 计算DMR的24 nt 小RNA丰度（normalized to per million per one hundred base pair）]]></content>
      <tags>
        <tag>生物信息</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mysql使用过程中遇到的一些问题]]></title>
    <url>%2F2019%2F01%2F29%2FMysql%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%2F</url>
    <content type="text"><![CDATA[blast2go本地化需要用到mysql，操作系统Centos 7。 1. 卸载之前的mysql之前的版本是mysql5.6，想要更新到mysql5.7。 查看mysql安装了哪些东西。 1rpm -qa |grep -i mysql 开始卸载 1yum remove XXX 查看卸载是否完成 查找mysql相关目录 1find / -name mysql 删除相关目录 123rm -rf XXXrm -rf /etc/my.cnfrm -rf rm -rf /var/log/mysqld.log 2. 安装Mysql5.7 安装mysql源 1234wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpmyum localinstall mysql57-community-release-el7-11.noarch.rpm# 检查是否安装成功yum repolist enabled | grep &quot;mysql.*-community.*&quot; 启动mysql服务 123systemctl start mysqld# 查看状态systemctl status mysqld 这里可能会遇到 “Another mysqld server running on port 3306 error”，可以采用netstat -lp | grep 3306 查找占用这个端口号的进程，kill 这个PID。（我发现占用这个3306的是mysql??）。 修改root密码 我用root身份导入数据的时候，提示我要修改密码。生成的默认密码在 /var/log/mysqld.log 文件中。使用 grep 命令找到日志中的密码。 1grep &apos;temporary password&apos; /var/log/mysqld.log 1mysql&gt;ALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;123,c%vPl9ek&apos;; 或者： 123mysql&gt; use mysql;mysql&gt; update mysql.user set authentication_string=password(&apos;123,c%vPl9ek&apos;) where user=&apos;root&apos;;mysql&gt; flush privileges; 3. 导入数据1mysql -u root -p &lt; b2gdb.sql 会出现莫名其妙的错误，“ERROR 1819 (HY000) at line 4: Your password does not satisfy the current policy requirements”，但是我的密码是符合它的规则的。最后采取的办法是把检验密码的插件删了。 1mysql&gt;uninstall plugin validate_password; 有试着导入数据，这次的错误是： “ERROR 1101 (42000) at line 9: BLOB, TEXT, GEOMETRY or JSON column ‘description’ can’t have a default value” 先查看了sql_mode 12mysql&gt; select @@session.sql_mode;mysql&gt; select @@global.sql_mode; 之后重新设置sql_mode 12set sql_mode=&apos;&apos;;set global sql_mode=&apos;&apos;; 重新打开一个终端，进入mysql，查看sql_mode 1select @@global.sql_mode; 在尝试导入数据，成功。 4. blast2go123456cd data1/data/blast2go/mysql -u root -p &lt; b2gdb.sqlmysql -u root -p -e &quot;GRANT ALL ON b2gdb.* TO &apos;blast2go&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;blast4it&apos;;&quot;mysql -u root -p -e &quot;FLUSH PRIVILEGES;&quot;# 这一步很耗时nohup time mysql -s -u root -p b2gdb &lt; go_monthly-assocdb-data &gt; mysql.out 2&gt;&amp;1 &amp; 5. 参考 MySQL sql_mode 说明 blast2go本地化教程 your password does not satisfy the current policy requirements another mysqld server running on the port 3306 Centos7 完全卸载mysql CentOS 7 下 MySQL 5.7 的安装与配置]]></content>
      <tags>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[tair breaking news]]></title>
    <url>%2F2019%2F01%2F17%2Ftair-breaking-news%2F</url>
    <content type="text"><![CDATA[tair breaking news 必须fq设置全局代理）才能查看 https://zenodo.org/record/2530282#.XECIyvln18E 这里可以下载到最新的tair注释文件。下载后存”F:\Project\org.At.tair.db”。创建物种注释包https://www.jianshu.com/p/8963f396bfed 《狂人日记》，那个时代的知识分子]]></content>
  </entry>
  <entry>
    <title><![CDATA[SF felt like the Mecca of tech, but also the center of capitalism]]></title>
    <url>%2F2019%2F01%2F05%2FSF%2F</url>
    <content type="text"><![CDATA[There is a lot of money, but not a lot of wealth？ 该怎么翻译？]]></content>
      <tags>
        <tag>阅读</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[R输出图形]]></title>
    <url>%2F2018%2F12%2F12%2Fexporting-nice-plots-in-r%2F</url>
    <content type="text"><![CDATA[这篇博文写的很好 https://www.r-bloggers.com/exporting-nice-plots-in-r/介绍的 Inkscape 也很好用，解决了之前IGV输出SVG图片的问题。导入PPT只显示一半。用Ai cc 打开，报错。“往返Tiny时剪贴将丢失”，只有框架没有图 There are two main problems when exporting graphics from R: Anti-aliasing is not activated in Windows R (this does not apply to Linux or Mac) – windows下没有反锯齿设置，解决：library(Cairo) When increasing the resolution the labels automatically decrease and become unreadable –分辨率升高，标签会自动缩小 If we want to increase the resolution of the plot we can’t just change the resolution parameter:We also have to change the point size, the formula is size * new resolution DPI / 72 DPI: If we double the image size we also need to double the point size: 123456789101112131415161718192021222324# https://www.r-graph-gallery.com/265-grouped-boxplot-with-ggplot2/# exporting nice plot https://www.r-bloggers.com/exporting-nice-plots-in-r/# librarylibrary(ggplot2) # create a data framevariety=rep(LETTERS[1:7], each=40)treatment=rep(c("high","low"),each=20)note=seq(1:280)+sample(1:150, 280, replace=T)data=data.frame(variety, treatment , note) # grouped boxplotggplot(data, aes(x=variety, y=note, fill=treatment)) + geom_boxplot()# One box per treatmentggplot(data, aes(x=variety, y=note, fill=treatment)) + geom_boxplot() + facet_wrap(~treatment)# one box per varietyggplot(data, aes(x=variety, y=note, fill=treatment)) + geom_boxplot() + facet_wrap(~variety, scale="free")]]></content>
      <tags>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Google news "epigenetics plants"]]></title>
    <url>%2F2018%2F12%2F10%2FGoogle-News%2F</url>
    <content type="text"><![CDATA[University of Nebraska-Lincoln researchers have found revolutionary evidence that an evolutionary phenomenon at work in complex organisms is at play in their single-celled, extreme-loving counterparts, too.]]></content>
      <tags>
        <tag>科研</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[好像windows下circos不缺GD模块]]></title>
    <url>%2F2018%2F12%2F07%2FGD-module%2F</url>
    <content type="text"><![CDATA[windows下好像并没有缺失GD模块？版本：This is perl 5, version 24, subversion 2 (v5.24.2) built for MSWin32-x64-multi-thread missing Config::General missing Font::TTF::Fontmissing Math::Bezier missing Math::Roundmissing Math::VecStatmissing Regexp::Commonmissing SVGmissing Set::IntSpanmissing Statistics::Basicmissing Text::Format GD模块在C:\Perl64\lib我自己安装的在C:\Perl64\site\lib perl circos -moduleppm install Math::Round Math::VecStat Regexp::Common SVG Set::IntSpan Statistics::Basic Text::Format]]></content>
  </entry>
  <entry>
    <title><![CDATA[bed和bedGraph区别]]></title>
    <url>%2F2018%2F11%2F14%2Fbed%E5%92%8CbedGraph%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[BedGraph has 4 fields (chr start stop score), and the simplest BED file has 3 fields (chr start stop), so one easy way to convert from BED to bedGraph would be to use awk: cat file.bedGraph | awk ‘{print $1 “\t” $2 “\t” $3}’ &gt; file.bedIf your bedGraph file contains a header line, you can get rid of it with an inverse grep: grep -v track file.bedGraph | awk ‘{print $1 “\t” $2 “\t” $3}’ &gt; file.bedOr you can use tail to return everything but the first line (if your track line is the first line). If you want to add more fields to the bed file, you can insert them in the print statement (I don’t remember the minimum requirement for ChIPpeakAnno).]]></content>
  </entry>
  <entry>
    <title><![CDATA[ggplot2 绘图]]></title>
    <url>%2F2018%2F11%2F12%2Fggplot2%E7%BB%98%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[可以尝试设置一个bestfit图层参数12bestfit &lt;- geom_smooth(method = "lm", se = F, colour = alpha("steelblue", 0.5), size = 2)]]></content>
  </entry>
  <entry>
    <title><![CDATA[集群上安装DESeq2遇到的困难及解决办法]]></title>
    <url>%2F2018%2F11%2F03%2F%E9%9B%86%E7%BE%A4%E4%B8%8A%E5%AE%89%E8%A3%85DESeq2%E9%81%87%E5%88%B0%E7%9A%84%E5%9B%B0%E9%9A%BE%E5%8F%8A%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%2F</url>
    <content type="text"><![CDATA[BiocManager::install(“DESeq2”, version = “3.8”)报错，错误内容：configure: WARNING: Only g++ version 4.7.2 or greater can be used with RcppArmadillo.configure: error: Please use a different compiler.ERROR: configuration failed for package ‘RcppArmadillo’ 源码安装gcc参考../configure –prefix=/home02/qizhengyang/packages -enable-checking=release -enable-languages=c,c++ -disable-multilib报错，错误内容：/usr/bin/ld: cannot find -lgfortran 重新安装gcc，增加fortran../configure –prefix=/home02/qizhengyang/packages -enable-checking=release -enable-languages=c,c++,fortran -disable-multilib &amp;&amp; make -j4 &amp;&amp; make install 添加两个libexport LD_LIBRARY_PATH=$HOME/packages/lib64:$LD_LIBRARY_PATHexport LD_LIBRARY_PATH=$HOME/packages/lib:$LD_LIBRARY_PATH BiocManager::install(“DESeq2”, version = “3.8”)成功 备注：configure时间超级长。过程艰辛。还尝试过手动安装RcppArmadillo，失败。.libPaths()“/home02/qizhengyang/packages/R/lib64/R/library”R CMD INSTALL -l /home02/qizhengyang/packages/R/lib64/R/library RcppArmadillo_0.3.6.3.tar.gz]]></content>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[集群上安装的R包]]></title>
    <url>%2F2018%2F11%2F03%2F%E9%9B%86%E7%BE%A4%E4%B8%8A%E5%AE%89%E8%A3%85%E7%9A%84R%E5%8C%85%2F</url>
    <content type="text"><![CDATA[写了一个R script批量安装。1234567install.packages("devtools",repos="https://mirrors.tuna.tsinghua.edu.cn/CRAN")install.packages("dplyr",repos="https://mirrors.tuna.tsinghua.edu.cn/CRAN")install.packages("BiocManager",repos="https://mirrors.tuna.tsinghua.edu.cn/CRAN")BiocManager::install("ballgown", version = "3.8")BiocManager::install(genefilter", version = "3.8")devtools::install_github('alyssafrazee/RSkittleBrewer')BiocManager::install("methylKit", version = "3.8")]]></content>
  </entry>
  <entry>
    <title><![CDATA[集群上更新R并安装methylKit]]></title>
    <url>%2F2018%2F10%2F31%2F%E9%9B%86%E7%BE%A4%E4%B8%8A%E5%AE%89%E8%A3%85R%2F</url>
    <content type="text"><![CDATA[普通用户在集群上安装R主要的教程里面有一些需要注意的，安装bzip，要加入一个 -fPIC 到 CFLAG 。（在 Makefile中CFLAG=-fPIC -Wall -Winline -O2 -g…）在R安装configure之前需要注意设置环境变量123LD_LIBRARY_PATH=/home02/qizhengyang/packages/libexport CFLAGS="-I/home02/qizhengyang/packages/include"export LDFLAGS="-L/home02/qizhengyang/packages/lib" R安装完成之后123export R_HOME=$HOME/packages/Rexport R_LIBS=$HOME/packages/R/lib64/libraryexport PATH="$R_HOME/bin":$PATH 最后 source ~/.bashrc 装methyKit也是坑一堆。我下了autoconf-2.69，libxml2-2.7.2。源码安装。./configure –prefix=/home02/qizhengyang/packages]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>R</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[trimmatic使用]]></title>
    <url>%2F2018%2F10%2F30%2Ftrimmatic%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[更改了一下之前的trimmatic脚本 12345678910111213#PBS -N trim#PBS -l nodes=2:ppn=10#PBS -q highho=/home02/qizhengyang/rna_work_place/rna_datacd $hodir=$ho/trim_resultfor i in *R1.fq.gzdo java -jar ~/softwares/Trimmomatic-0.38/trimmomatic-0.38.jar PE -threads 20 -phred33 \ $i $&#123;i/R1/R2&#125; -baseout $&#123;i/_R1/&#125; ILLUMINACLIP:/home02/qizhengyang/softwares/Trimmomatic-0.38/adapters/TruSeq3-PE.fa:2:30:10 LEADING:3 \ TRAILING:3 SLIDINGWINDOW:4:15 MINLEN:36done [qizhengyang@node1 rna_data]$ i=”abd”[qizhengyang@node1 rna_data]$ echo $icde [qizhengyang@node1 rna_data]$ echo ${i}cdeabdcde[qizhengyang@node1 rna_data]$ echo $i”cde”abdcde]]></content>
      <tags>
        <tag>Linux</tag>
        <tag>软件</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[windows blast+]]></title>
    <url>%2F2018%2F09%2F04%2Fwindows-blast%2B%2F</url>
    <content type="text"><![CDATA[下载网址ftp://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATEST/双击exe文件即可，安装程序会自动设置环境变量。blastn -version 查看版本信息]]></content>
  </entry>
  <entry>
    <title><![CDATA[Sep-3]]></title>
    <url>%2F2018%2F09%2F03%2FSep-3%2F</url>
    <content type="text"><![CDATA[“当您使用〖发送至Kindle〗电子邮箱发送个人文件时，您的文件会自动保存到Kindle图书馆中。”如果禁用，则我发送至Kindle电子邮箱的文件不会出现在Kindle图书馆中。 我删除了某条记录之后，发现这条记录里有我想了解的信息。 我打算将smartypants改回true。改之前再试一试，我能在editplus上打出中文破折号（一个全角字符）。 实验结果，会渲染成占两个全角字符的破折号，不能加空格。 我不打算将smartypants改为true了。 我打算删掉Runaway Baby。理由：太长。 紧接着数据，即使在中文输入状态下，点还是半角的点，不是句号。]]></content>
  </entry>
  <entry>
    <title><![CDATA[DNA甲基化与自闭症]]></title>
    <url>%2F2018%2F08%2F26%2FDNA%E7%94%B2%E5%9F%BA%E5%8C%96%E4%B8%8E%E8%87%AA%E9%97%AD%E7%97%87%2F</url>
    <content type="text"><![CDATA[摘要：越来越多的证据表明自闭症谱系障碍（ASD）中基因与环境之间存在复杂的相互作用，包括染色质基因中罕见的从头突变，例如Rett综合征中的methyl-CpG结合蛋白2（MECP2)。基因组序列、基因途径和DNA甲基化的全基因组研究为ASD提供了有价值的机制见解。 词汇： autism spectrum disorder:自闭症谱系障碍 加入spectrum代表自闭症本身的多元性。1 CpG islands: CpG密度极高的区域(&lt; 1 kb)。 Gene body: 基因组上从转录起始位点到终止位点的一段区域。]]></content>
  </entry>
  <entry>
    <title><![CDATA[she - from Ed Sheeran]]></title>
    <url>%2F2018%2F08%2F25%2Fshe-from-Ed-Sheeran%2F</url>
    <content type="text"><![CDATA[一首歌的歌词，来自Ed Sheeran Patience, my enemyAnd loving’s my friendIt’s harder to leaveWith my heart on my sleeveThan to stay and just pretendOh, she knows me so wellOh, she knows me like I know myself]]></content>
  </entry>
  <entry>
    <title><![CDATA[《局外人》的主旨]]></title>
    <url>%2F2018%2F08%2F17%2F%E5%B1%80%E5%A4%96%E4%BA%BA%E4%B8%BB%E6%97%A8%2F</url>
    <content type="text"><![CDATA[1937年8月一个男人，在人们通常视为人生大事的地方（婚姻、社会地位等等）寻找人生，然后某天在翻阅一本时装目录的时候，突然了解到他对自己人生亦即时装目录上鼓吹的那种人生是何其无所谓。]]></content>
  </entry>
  <entry>
    <title><![CDATA[anaconda创建不同的运行环境]]></title>
    <url>%2F2018%2F07%2F21%2Fanaconda%E5%88%9B%E5%BB%BA%E4%B8%8D%E5%90%8C%E7%9A%84%E8%BF%90%E8%A1%8C%E7%8E%AF%E5%A2%83%2F</url>
    <content type="text"><![CDATA[CPC依赖biopython。 服务器上的python版本太低。运行 pip install biopython 报错。这种情况下安装Anaconda，并使用conda创建了一个python=2.7.9的虚拟环境。123conda create -n py2 python=2.7.9 #createsource activate py2 #activatesource deactivate #deactivate 预测lncRNA:1perl LncRNA_Finder_2.0.pl -i test.fa -k housekeeping.fa -s smallRNA.fa -o jc_test -t 1]]></content>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[《非洲的青山》]]></title>
    <url>%2F2018%2F07%2F14%2F%E9%9D%9E%E6%B4%B2%E7%9A%84%E9%9D%92%E5%B1%B1%2F</url>
    <content type="text"><![CDATA[第四章，“乔伊斯中等身高，他把眼睛用坏了。在那最后一晚，喝醉了，和乔伊斯在一起，他不断引用埃德加·基内的话：‘思维清晰、生命绚丽如战争时一样。’我知道我没有把这句话彻底弄清楚。等你见到他，他会提到三年前被打断的谈话。能见到我们这个时代伟大的作家真让人高兴。”这段话越发让我觉得我看的不是一部小说。 查了维基百科 Green Hills of Africa is a 1935 work of nonfiction by American writer Ernest Hemingway.]]></content>
  </entry>
  <entry>
    <title><![CDATA[hexo]]></title>
    <url>%2F2018%2F07%2F13%2Fhexo%2F</url>
    <content type="text"><![CDATA[NexT教程12345hexo clean hexo g hexo s hexo d # 后面两步可合并 hexo d -g 连接Github与本地]]></content>
  </entry>
  <entry>
    <title><![CDATA[《非洲的青山》摘录]]></title>
    <url>%2F2018%2F07%2F13%2F%E3%80%8A%E9%9D%9E%E6%B4%B2%E7%9A%84%E9%9D%92%E5%B1%B1%E3%80%8B%E6%91%98%E5%BD%95%2F</url>
    <content type="text"><![CDATA[《非洲的青山》第三章，关于贝尔蒙特的注释信息中写道，“他是海明威的好朋友，曾出现在海明威的小说《死在午后》、《太阳照常升起》中。晚年受病痛折磨，和海明威一样，饮弹自尽。” 小说的第三章的后半部是我和妻子的对话 “你不觉得老爹很英俊吗？”“不觉得。”我说，“挂眼皮才英俊。”“挂眼皮那是漂亮。但你真的不认为老爹英俊吗？”……“但你真的不认为他英俊吗？”“不认为。” 第四章 P.O.M从一个行囊里拿出几本书，和老爹一起看了起来， 我想起托尔斯泰，想到战争的经历对一个作家而言是多么有益。战争是重大的主题之一，当然也是最难进行真实描写的主题之一。 雨天交通拥堵时在湿滑的沥青路和鹅卵石路上骑车的感觉。]]></content>
  </entry>
</search>
